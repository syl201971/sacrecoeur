<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SacrÃ©-CÅ“ur, son rÃ¨gne nâ€™a pas de fin â€“ Projection</title>
<meta name="description" content="Projection du film SacrÃ©-CÅ“ur, son rÃ¨gne nâ€™a pas de fin Ã  lâ€™Ã‰glise de Chute-aux-Outardes le 7 mars Ã  18h30. EntrÃ©e libre.">

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f4f4f4;
  color: #333;
}
header {
  background: linear-gradient(to right, #8B0000, #B22222);
  color: white;
  text-align: center;
  padding: 30px 20px;
}
.container {
  max-width: 900px;
  margin: auto;
  padding: 20px;
}
.hero {
  background: white;
  padding: 30px;
  border-radius: 10px;
  text-align: center;
}
.hero img {
  max-width: 100%;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0,0,0,.15);
}
.event-details {
  margin-top: 25px;
  background: #e9ecef;
  padding: 20px;
  border-radius: 10px;
}
.reserve {
  text-align: center;
  margin: 40px 0;
}
.reserve button {
  font-size: 1.2em;
  padding: 15px 30px;
  border: none;
  border-radius: 8px;
  background: #B22222;
  color: white;
  cursor: pointer;
}
.reserve button:hover {
  background: #8B0000;
}
.count {
  margin-top: 20px;
  font-size: 1.4em;
  font-weight: bold;
  color: #B22222;
}
footer {
  background: #333;
  color: white;
  text-align: center;
  padding: 20px;
}
</style>

<script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js';
import { getFirestore, doc, updateDoc, increment, onSnapshot } from 'https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js';
import { getAuth, signInAnonymously } from 'https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js';

const firebaseConfig = {
  apiKey: "AIzaSyAcxVNsIt4YsrrvhfyQWvZypHym0Cv3z8A",
  authDomain: "marche-pour-jesus.firebaseapp.com",
  projectId: "marche-pour-jesus"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const auth = getAuth(app);
signInAnonymously(auth);

const counterRef = doc(db, 'counters', 'sacre-coeur-chute-aux-outardes');
let alreadyClicked = localStorage.getItem('presence');

onSnapshot(counterRef, snap => {
  if (snap.exists()) {
    const n = snap.data().count || 0;
    document.getElementById("counter").innerText =
      n + " personne" + (n > 1 ? "s" : "") + " inscrite" + (n > 1 ? "s" : "");
  }
});

window.reserve = async () => {
  if (alreadyClicked) {
    alert("Votre prÃ©sence est dÃ©jÃ  confirmÃ©e.\nMerci ğŸ™");
    return;
  }
  await updateDoc(counterRef, { count: increment(1) });
  localStorage.setItem('presence', 'true');
  alreadyClicked = true;
  alert("Merci ! Votre prÃ©sence a bien Ã©tÃ© enregistrÃ©e.\nQue le SacrÃ©-CÅ“ur vous bÃ©nisse ğŸ™");
};
</script>
</head>

<body>

<header>
  <h1>SacrÃ©-CÅ“ur, son rÃ¨gne nâ€™a pas de fin</h1>
  <p>Projection â€“ EntrÃ©e libre</p>
</header>

<div class="container">

<section class="hero">
  <img src="https://syl201971.github.io/sacrecoeur/images/ChatGPT Image Feb 17, 2026, 10_09_18 AM.png"
       alt="SacrÃ©-CÅ“ur de JÃ©sus">

  <div class="event-details">
    <h2>Projection du film</h2>
    <p>
      Un film profondÃ©ment spirituel qui nous invite Ã  redÃ©couvrir
      lâ€™amour, la misÃ©ricorde et le rÃ¨gne du SacrÃ©-CÅ“ur de JÃ©sus
      dans notre monde dâ€™aujourdâ€™hui.
    </p>
    <p><strong>ğŸ“ Lieu :</strong> Ã‰glise de Chute-aux-Outardes</p>
    <p><strong>ğŸ“… Date :</strong> 7 mars</p>
    <p><strong>ğŸ•¡ Heure :</strong> 18h30</p>
  </div>
</section>

<section class="reserve">
  <h2>Confirmez votre prÃ©sence</h2>
  <p>Cliquez ci-dessous pour nous aider Ã  prÃ©voir lâ€™accueil</p>
  <button onclick="reserve()">Je serai prÃ©sent</button>
  <div id="counter" class="count">Chargementâ€¦</div>
</section>

</div>

<footer>
  <p>&copy; Projection paroissiale â€“ SacrÃ©-CÅ“ur</p>
</footer>

</body>
</html>
